<!DOCTYPE html>
<html lang="en-us" class="no-js">
  <head>
    <meta charset="utf-8">
    <title>
      Vanilla Modal Dialogs
    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <script>
      // remove no-js and add 'js' to the HTML
      document.documentElement.className = document.documentElement.className.replace('no-js', 'js');
    </script>
    <style>
      *,*:after,*:before{box-sizing:border-box;font-family:arial;}
      *{margin-top: 0;}
      *:focus{outline: 2px solid #921c2b; outline-offset: 2px; text-decoration: none;}
      body,html{background:#fafafa;color:#450c13;font-size:20px;line-height:1.3;margin:0;padding:0;}
      .content-area{padding:20px;margin:auto; max-width:640px;}
      a{color:#921c2b}
      .btn, [role="button"]{background:#921c2b;border:1px solid #4d0912;color:#fff;cursor:pointer;display:inline-block;font-size:1em;line-height:1;margin-bottom:12px;padding:16px 24px;position:relative;text-align:center;transition:transform .2s, background .2s}
      .btn:hover,.btn:focus, [role="button"]:hover, [role="button"]:focus{background:#c12f48;}
      label{display:inline-block;font-size:.75em;font-weight:bold;margin-bottom:.5em}
      input[type="text"]{border:1px solid #333;display:block;font-size:1.4em;margin-bottom:1em;min-width:230px;padding:.5em;width:100%}
      label{margin-top:1.125em}
      button{border:none;}
      .sr-only:not(:focus):not(:active) {
        clip: rect(0 0 0 0);
        clip-path: inset(100%);
        height: 1px;
        overflow: hidden;
        position: absolute;
        white-space: nowrap;
        width: 1px;
      }
    </style>
    <link rel="stylesheet" href="assets/css/aria.modal.css">
  </head>
  <body>
    <a href="#main" class="sr-only">
      Skip link
    </a>

      <header class="content-area">
        <h1>
          Accessible Modal Dialogs
          <span>Vanilla <abbr title="JavaScript">JS</abbr></span>
        </h1>
      </header>

      <main id="main" class="content-area" aria-label="content">
        <h2>
          Demos
        </h2>
        <p>
          Here's an intro to this page.
          It <a href="#!">has a test link</a> for confirming focus
          only goes where it should.
        </p>





        <p>
          <a class="btn" data-modal-open href="#modal_1">
            Launch Modal 1
          </a>
        </p>

        <p>
          <span class="btn"
            data-modal-open="modal_1">
            Launch Modal 1 (span)
          </span>
        </p>

        <section id="modal_1"
          data-modal
          data-modal-label="testing"
          data-modal-class="test"
          data-modal-close>
          <h2>
            Announcement
          </h2>

          <div>
            <p>Content goes here</p>
          </div>
        </section>

        <p>
          <button type="button"
            class="btn"
            data-modal-open="modal_2"
            hidden>
            Launch Modal 2
          </button>
        </p>

        <div id="modal_2"
          hidden
          data-modal
          data-modal-close="Close"
          data-modal-hidden-title>
          <h2>
           Another Announcement
          </h2>

          <div>
            <p>Content goes here again</p>
            <label for="name">
              <span style="display: block;">
                Name:
              </span>
              <input type="text" id="name" autofocus="">
            </label>
          </div>
        </div>

        <p>
          <a class="btn" data-modal-open="modal_3">
            Launch Modal 3
          </a>
        </p>

        <div id="modal_3" hidden data-modal aria-describedby="desc">
          <h1>Example with Autofocus radio</h1>
          <p id="desc">
            Select the recording you want to cancel.
          </p>
          <div>
            <form>

              <fieldset>
                <legend>
                  <h2>
                    Tomorrow, Month DD at HH:MM AM/PM
                  </h2>
                </legend>

                <!--
                  All contents are wrapped within a label to ensure all
                  visible elements associated with the radio are in the
                  radio's hit area.

                  Set all visible text to aria-hidden="true" and instead utilize
                  the aria-label, on each radio input, to announce the content
                  in a friendly manner.
                -->
                <div>
                  <label>
                    <input type="radio"
                      autofocus=""
                      name="text_radios">
                    Option 1
                  </label>
                </div>

                <div>
                  <label>
                    <input type="radio"
                      name="text_radios">
                    Option 2
                  </label>
                </div>

                <!-- ... -->
              </fieldset>

              <div>
                <button type="submit">
                  Confirm
                </button>
              </div>

            </form>

          </div>
        </div>


<!--         <div id="modal_4"
          hidden
          data-modal
          data-modal-close="Close"
          data-modal-hidden-title>
          <h2>
           Why am I nested?
          </h2>

          <div>
            <p>Content goes here, yet again</p>
            <label for="name2">
              <span style="display: block;">
                Name:
              </span>
              <input type="text" id="name2">
            </label>
          </div>
        </div>
 -->
      </main>
    </div>

    <script src="assets/js/aria.modal.js"></script>
    <script>
      window.addEventListener( "hashchange", function( e ) {
          var el = document.getElementById( location.hash.substring( 1 ) );
          if ( el ) {
            if ( !/^(?:a|select|input|button|textarea)$/i.test( el.tagName ) ) {
              el.tabIndex = -1;
            }
            el.focus();
          }
        }, false );
    </script>
    <script src="https://cdn.rawgit.com/GoogleChrome/inert-polyfill/v0.1.0/inert-polyfill.min.js"></script>
  </body>
</html>
